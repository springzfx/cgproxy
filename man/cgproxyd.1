.\" Manpage for cgproxyd
.TH man 1 "19 May 2020" "1.0" "cgproxyd man page"
.SH NAME
cgproxyd \- Start a daemon with unix socket to accept control from cgproxy/cgnoproxy
.SH SYNOPSIS
cgproxyd [--help] [--debug] [--execsnoop]
.SH ALIAS
cgproxyd = cgproxy --daemon
.SH OPTIONS
.B  --execsnoop
enable execsnoop to support program level proxy, need bcc installed to actually work
.SH CONFIGURATION
.I /etc/cgproxy/config.json
.br
.B port 
tproxy listenning port
.br
program level proxy controll, only work when execsnoop enabled:
.br
.RS
.B program_proxy
program need to be proxied
.br
.B program_noproxy
program that won't be proxied
.br
.B program_dnsproxy
program act as a dns server and need to be proxied
.RE
.br
cgroup level proxy control:
.br
.RS
.B cgroup_noproxy
cgroup array that no need to proxy, /noproxy.slice is preserved.
.br
.B cgroup_proxy
cgroup array that need to proxy, /proxy.slice is preserved.
.br
.B cgroup_dnsproxy
cgroup array for program act as a dns server and need to be proxied, `/dnsproxy.slice` is preserved
.RE
.br
.B enable_gateway
enable gateway proxy for local devices.
.br
.B enable_dns
enable dns to go to proxy.
.br
.B enable_tcp
.br
.B enable_udp
.br
.B enable_ipv4 
.br
.B enable_ipv6
.br
dns hijack:
.br
.RS
.B hijack_dns
hijack system dns request
.br
.B hijack_dns_port
dns server port to be hijacked to
.RE
.br
.B block_port
block non tproxy traffic from accessing tproxy port
.br
.SH SEE ALSO
cgproxyd(1), cgproxy(1), cgnoproxy(1)

